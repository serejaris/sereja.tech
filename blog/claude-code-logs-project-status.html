<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Логи Claude Code — твоя карта проектов | Сережа Рис</title>

  <!-- SEO -->
  <meta name="description" content="Как использовать ~/.claude/projects для аудита репозиториев: какие проекты в работе, где непушнутые коммиты, что забыл синхронизировать.">
  <meta name="author" content="Сережа Рис">
  <meta name="keywords" content="Claude Code, логи, ~/.claude, проекты, git sync, вайбкодинг, аудит репозиториев">
  <link rel="canonical" href="https://sereja.tech/blog/claude-code-logs-project-status">

  <!-- Open Graph -->
  <meta property="og:title" content="Логи Claude Code — твоя карта проектов">
  <meta property="og:description" content="Как использовать ~/.claude/projects для аудита репозиториев и git-гигиены.">
  <meta property="og:type" content="article">
  <meta property="og:locale" content="ru_RU">
  <meta property="og:url" content="https://sereja.tech/blog/claude-code-logs-project-status">
  <meta property="og:site_name" content="Сережа Рис">
  <meta property="article:author" content="Сережа Рис">
  <meta property="article:published_time" content="2026-01-16T00:00:00+00:00">
  <meta property="article:section" content="Claude Code">
  <meta property="article:tag" content="Claude Code">
  <meta property="article:tag" content="вайбкодинг">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Логи Claude Code — твоя карта проектов">
  <meta name="twitter:description" content="~/.claude/projects как источник правды о твоих репозиториях.">
  <meta name="twitter:creator" content="@riiiiiiiiss">

  <!-- JSON-LD Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Логи Claude Code — твоя карта проектов",
    "description": "Как использовать ~/.claude/projects для аудита репозиториев: какие проекты в работе, где непушнутые коммиты, что забыл синхронизировать.",
    "author": {
      "@type": "Person",
      "name": "Сережа Рис",
      "url": "https://sereja.tech"
    },
    "publisher": {
      "@type": "Person",
      "name": "Сережа Рис",
      "url": "https://sereja.tech"
    },
    "datePublished": "2026-01-16",
    "dateModified": "2026-01-16",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://sereja.tech/blog/claude-code-logs-project-status"
    },
    "wordCount": 700,
    "articleSection": "Claude Code",
    "keywords": ["Claude Code", "логи", "проекты", "git", "вайбкодинг"],
    "inLanguage": "ru-RU"
  }
  </script>

  <link href="https://unpkg.com/prismjs@1.29.0/themes/prism.css" rel="stylesheet">
  <style>
    body {
      font-family: monospace;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
      background: #fff;
      color: #000;
    }
    a { color: #0000EE; text-decoration: underline; }
    a:visited { color: #551A8B; }
    h1 { font-size: 24px; margin-bottom: 8px; line-height: 1.3; }
    h2 { font-size: 18px; margin-top: 30px; margin-bottom: 10px; }
    p { margin-bottom: 15px; }
    .author { color: #666; font-size: 13px; margin-bottom: 24px; }
    .intro { color: #666; margin-bottom: 8px; }
    .intro:last-of-type { margin-bottom: 24px; }

    .callout {
      border: 1px solid #000;
      padding: 12px 16px;
      margin: 20px 0;
    }
    .callout.warning { border-left: 3px solid #c00; }
    .callout.insight { border-left: 3px solid #060; }
    .callout strong { display: block; margin-bottom: 4px; }
    .callout p { margin-bottom: 0; }

    .code-block {
      margin: 24px 0;
      border: 2px solid #000;
    }
    .code-block-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #000;
      color: #fff;
      padding: 8px 12px;
      font-size: 12px;
    }
    .code-block-title { font-weight: normal; }
    .copy-btn {
      background: transparent;
      border: 1px solid #666;
      color: #fff;
      padding: 2px 8px;
      font-size: 11px;
      cursor: pointer;
      font-family: monospace;
    }
    .copy-btn:hover { background: #333; }
    .code-block pre {
      margin: 0;
      border: none;
      background: #f8f8f8;
      padding: 16px;
      overflow-x: auto;
      font-size: 13px;
      line-height: 1.5;
    }
    pre {
      background: #f8f8f8;
      border: 2px solid #000;
      padding: 16px;
      overflow-x: auto;
      font-size: 13px;
      line-height: 1.5;
      margin: 24px 0;
    }
    code { font-family: monospace; background: #eee; padding: 1px 4px; }
    pre code { background: none; padding: 0; }

    table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    th, td { border: 1px solid #000; padding: 8px; text-align: left; font-size: 13px; }
    th { background: #f5f5f5; }
    .yes { color: #060; }
    .no { color: #c00; }

    ul, ol { margin: 12px 0; padding: 0 0 0 1.2em; }
    li { margin-bottom: 4px; }

    .sources { margin-top: 40px; padding-top: 20px; border-top: 1px solid #000; }
    .sources h3 { font-size: 14px; margin-bottom: 8px; }
    .sources ul { list-style: none; padding: 0; }
    .sources li { margin-bottom: 4px; }

    footer { margin-top: 30px; text-align: center; font-size: 13px; color: #666; }
  </style>
</head>
<body>
  <p><a href="/blog/">&larr; Блог</a></p>
  <article>
    <h1>Логи Claude Code — твоя карта проектов</h1>
    <p class="author">Сережа Рис · 16 января 2026</p>

    <p class="intro">Спросил Claude Code: с какими проектами я работал последние два дня?</p>
    <p class="intro">Семь репозиториев. Четыре не синхронизированы.</p>
    <p class="intro">44 коммита висят локально. Самый старый — трёхнедельной давности.</p>

    <h2>Где искать</h2>

    <p>Claude Code пишет сессии в <code>~/.claude/projects/</code>. Формат — JSONL. Имя папки = путь к проекту, где слеши заменены на дефисы.</p>

    <p>Файлы обновляются при запуске. По датам модификации видно, над чем работал.</p>

    <div class="code-block">
      <div class="code-block-header">
        <span class="code-block-title">Найти проекты за последние 48 часов</span>
        <button class="copy-btn" onclick="copyCode(this)">copy</button>
      </div>
      <pre><code class="language-bash">find ~/.claude/projects -type f -name "*.jsonl" -mtime -2 | \
  sed 's|.*projects/||; s|/.*||' | \
  sort -u | \
  while read d; do echo "$d" | sed 's|-|/|g'; done</code></pre>
    </div>

    <p>Путь <code>-Users-ris-Documents-GitHub-hsl-mozg</code> превращается в <code>/Users/ris/Documents/GitHub/hsl-mozg</code>. Дефисы вместо слешей.</p>

    <h2>Зачем это нужно</h2>

    <p>Проекты множатся. Начал один, переключился на срочный, потом ещё один. Я однажды накоммитил в cohorts фикс, который уже был в hsl-mozg — просто забыл, что это связанные репы.</p>

    <p>Логи помогают.</p>

    <p>Попросил агента проверить git-статус каждого проекта:</p>

    <table>
      <tr>
        <th>Проект</th>
        <th>Git</th>
        <th>Ahead</th>
      </tr>
      <tr>
        <td>ai-whisper</td>
        <td class="yes">✓</td>
        <td class="no">14</td>
      </tr>
      <tr>
        <td>cohorts</td>
        <td class="yes">✓</td>
        <td class="no">22</td>
      </tr>
      <tr>
        <td>hsl-dashboard</td>
        <td class="yes">✓</td>
        <td>synced</td>
      </tr>
      <tr>
        <td>hsl-mozg</td>
        <td class="yes">✓</td>
        <td>synced</td>
      </tr>
      <tr>
        <td>presentation-skills</td>
        <td class="yes">✓</td>
        <td class="no">7</td>
      </tr>
      <tr>
        <td>tg-web-app</td>
        <td class="no">✗</td>
        <td>—</td>
      </tr>
      <tr>
        <td>0_ШКОЛА</td>
        <td class="yes">✓</td>
        <td class="no">1</td>
      </tr>
    </table>

    <p>tg-web-app без git — эксперимент месячной давности, который забросил.</p>

    <p>Агент нашёл всё за секунды. Я сказал «пушь» — он запушил все четыре репы разом.</p>

    <h2>Автоматизация</h2>

    <p>Можно сделать команду для еженедельного аудита. Или хук, который предупреждает при выходе из сессии: «У тебя 44 непушнутых коммита в 4 репозиториях».</p>

    <div class="code-block">
      <div class="code-block-header">
        <span class="code-block-title">~/.claude/commands/audit-repos.md</span>
        <button class="copy-btn" onclick="copyCode(this)">copy</button>
      </div>
      <pre><code>---
description: Аудит git-статуса активных проектов
---
1. Найди проекты в ~/.claude/projects за последние 7 дней
2. Проверь git status каждого
3. Покажи таблицу: проект, ahead/behind, uncommitted changes
4. Предложи запушить те, что ahead</code></pre>
    </div>

    <p><code>/audit-repos</code> раз в неделю. Порядок.</p>

    <h2>Инструменты</h2>

    <p>Для детального анализа — <a href="https://github.com/daaain/claude-code-log">claude-code-log</a> (626 звёзд на GitHub). Конвертирует JSONL в HTML с фильтрами и подсчётом токенов.</p>

    <pre><code class="language-bash">uvx claude-code-log@latest --open-browser</code></pre>

    <p>Интерактивный отчёт. Фильтры по датам. И главное — видно, сколько токенов сожрал каждый проект. У меня ai-whisper лидирует с отрывом.</p>

    <p>По-моему, логи — недооценённая штука. Все смотрят на агента как на кодера. А он ещё и ревизор, если попросить.</p>

    <div class="sources">
      <h3>Источники</h3>
      <ul>
        <li><a href="https://github.com/daaain/claude-code-log" target="_blank">claude-code-log</a> — конвертер JSONL в HTML</li>
        <li><a href="https://blog.sshh.io/p/how-i-use-every-claude-code-feature" target="_blank">How I Use Every Claude Code Feature</a> — обзор возможностей</li>
        <li><a href="https://shipyard.build/blog/claude-code-track-usage/" target="_blank">How to track Claude Code usage</a> — методы отслеживания</li>
      </ul>
    </div>

    <footer>
      Январь 2026
    </footer>
  </article>
  <script>
  function copyCode(btn) {
    const code = btn.closest('.code-block').querySelector('code').textContent;
    navigator.clipboard.writeText(code).then(() => {
      btn.textContent = 'copied!';
      setTimeout(() => btn.textContent = 'copy', 1500);
    });
  }
  </script>
  <script src="https://unpkg.com/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://unpkg.com/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <script defer src="/_vercel/insights/script.js"></script>
  <script src="/blog/analytics.js"></script>
</body>
</html>
