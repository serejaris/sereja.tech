---
title: "Skills: как не терять опыт между проектами"
date: 2026-02-01
description: "Вместо повторения одних и тех же промптов — скиллы, которые переносятся между проектами и улучшаются со временем"
tags: ["claude code", "skills"]
---

Написал сегменты для рассылок в одном боте. Через месяц делаю другого — и снова объясняю агенту что такое сегменты, как их фильтровать, где хранить. Полтора часа на повторение того, что уже делал.

Бесит.

## Проблема: опыт застревает в проекте

У меня два Telegram-бота. Первый — для марафона, там сегментация: можно отправить сообщение только тем, кто пришёл из YouTube, но ещё не оплатил. Или только активным за неделю. Работает.

Второй — HSL. Нужна такая же история. Claude Code на Opus 4.5 справится, но придётся заново объяснять:

- Где искать существующие паттерны
- Как устроена модель данных
- Какой SQL для разных фильтров
- Как связать с рассылками

Всё это я проходил в декабре. Но знание застряло в коде первого проекта.

```
ПРОЕКТ A                         ПРОЕКТ B
┌──────────────────┐             ┌──────────────────┐
│  Сегменты ✓      │             │  Сегменты ?      │
│  Паттерны ✓      │             │  Паттерны ?      │
│  Документация ✓  │             │  Документация ?  │
└──────────────────┘             └──────────────────┘
         │                                │
         ▼                                ▼
   Опыт остаётся               Начинаем с нуля
   внутри проекта              каждый раз
```

## Идея: скиллы как переносимый опыт

В декабре Anthropic выпустили Agent Skills — способ упаковывать экспертизу в файлы, которые агент подхватывает автоматически. Вместо объяснений каждый раз — описать процесс один раз.

Решил проверить: можно ли вытащить опыт сегментации из первого бота и использовать везде?

## Первая попытка

Написал агенту:

{{< callout type="insight" >}}
Создай скилл для сегментации пользователей в Telegram-ботах. Возьми паттерны из этого проекта и сделай их переиспользуемыми.
{{< /callout >}}

Claude Code нашёл код сегментов, изучил структуру, написал документ. Чеклист, SQL-паттерны, примеры. Выглядело нормально.

Но работает ли?

## Тест на втором проекте

Попросил другого агента (без доступа к первому проекту) создать сегмент для HSL — используя только скилл. Сравнил с тем, как агент справляется без него:

```
БЕЗ СКИЛЛА                       СО СКИЛЛОМ
┌─────────────────────┐          ┌─────────────────────┐
│ ✓ Нашёл структуру   │          │ ✓ Нашёл структуру   │
│ ✓ Написал SQL       │          │ ✓ Написал SQL       │
│ ✗ Нет чеклиста      │          │ ✓ Следует чеклисту  │
│ ✗ Нет документации  │          │ ✓ Документирует     │
│ ✗ Нет интеграции    │          │ ✓ Показывает        │
│   с рассылками      │          │   интеграцию        │
└─────────────────────┘          └─────────────────────┘
```

Без скилла агент решает задачу, но каждый раз по-своему. Со скиллом — тот же подход, который я уже проверил. По-моему, это именно то, что нужно: не изобретать велосипед в каждом проекте.

## Что внутри

Скилл — markdown-файл. Четыре секции:

**Когда использовать.** Триггеры: создание сегмента, фильтрация пользователей.

**Чеклист.** Пять шагов: найти где хранятся сегменты, понять модель, написать код, задокументировать, протестировать.

**Паттерны.** SQL-шаблоны: по событию, по источнику, исключение группы, временной фильтр.

**Типичные ошибки.** Забыл DISTINCT, не проверил пустой сегмент, не связал с рассылками.

Скилл не пишет код. Даёт контекст, который я накопил за три итерации в первом проекте.

## Накопительный эффект

Elvis S. точно описал в LinkedIn: "Tedious to build, but this had a wild compounding effect as models and agent harnesses improved."

Первый скилл — инвестиция. Вытащить знание из головы, структурировать, протестировать. Три-четыре часа работы.

Дальше эффект растёт:

```
MarathonBot:  Делаю вручную, учусь, документирую → 4 часа
HSL:          Использую скилл, улучшаю         → 30 минут
Проект 3:     Скилл отточен                    → 15 минут
Проект 4:     Просто работает                  → 10 минут
```

Нашёл новый паттерн — добавил. Наступил на грабли — записал в ошибки.

## Как теперь работаю

После каждого проекта спрашиваю: что здесь было не очевидно?

Если ответ есть — создаю скилл. Не документацию проекта, а переносимое знание.

Мои скиллы:

- **telegram-user-segments** — сегментация для рассылок (создал после MarathonBot, когда понадобилось в HSL)
- **deeplink-creator** — tracking links (использую в каждом проекте с ботом)
- **telegram-broadcast** — отправка сообщений с кнопками (решаю эту задачу каждый месяц)

## Где хранить

Глобальные — в `~/.claude/skills/`. Claude Code находит автоматически.

Проектные — в `.claude/skills/` внутри репозитория. Специфичны для проекта, но структурированы.

Формат открытый — те же скиллы работают в VS Code с Copilot, в Codex, в API.

## Что дальше

Скиллы — способ сохранять то, чему научился. Опыт не застревает в одном проекте, а становится инструментом для следующих.

Anthropic выпустили курс на DeepLearning.AI — там подробнее про структуру и интеграцию с MCP.

Но начать проще: после следующего проекта спросить — что было сложным? Записать так, чтобы в следующий раз агент знал это сразу.

## Источники

- [Agent Skills — Claude API Docs](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/overview)
- [Equipping agents for the real world with Agent Skills — Anthropic](https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills)
- [Elvis S. on maximizing Claude Code — LinkedIn](https://www.linkedin.com/posts/omarsar_on-maximizing-claude-code-early-on-i-spent-activity-7412156596052574210-xaIJ)
- [Agent Skills with Anthropic — DeepLearning.AI](https://www.youtube.com/watch?v=qD_5iCe1s1E)
- [Use Agent Skills in VS Code](https://code.visualstudio.com/docs/copilot/customization/agent-skills)
