---
title: "Homebrew: тысяча инструментов для агента"
date: 2026-02-18
description: "Homebrew даёт Claude Code доступ к 7000+ CLI-программам: yt-dlp, ffmpeg, whisper. Вайбкодинг инструменты, которые работают без MCP и токенов."
tags: ["вайбкодинг", "claude-code", "homebrew", "cli", "инструменты"]
image: "/images/blog/homebrew-cli-vibecoding-preview.png"
---

Homebrew — менеджер пакетов для macOS, через который агент устанавливает и запускает тысячи CLI-программ. Одна команда — и у Claude Code появляются инструменты для видео, аудио, поиска по коду. Без конфигов, без MCP-серверов, без подписок.

## Агент умный, но без рук

Claude Code живёт в терминале. Он не просто отвечает текстом — запускает программы, читает файлы, пишет код. Но по умолчанию у него есть только git, node, python. Для кода хватит. А дальше?

Попросишь скачать видео с YouTube — не может. Сконвертировать аудио — нечем. Транскрибировать запись — нет инструмента. Агент знает, что такие программы существуют. Знает, как их использовать. Но их нет в системе.

Голова есть, рук нет.

## Откуда брать инструменты

В браузерном ChatGPT у агента нет доступа к программам вообще. Claude Code работает в терминале — и может запускать что угодно. Но какие программы ставить?

Можно гуглить, скачивать архивы, собирать из исходников. Так делали двадцать лет назад. Сейчас есть [Homebrew](https://brew.sh) — менеджер пакетов для macOS с 46 тысячами звёзд на GitHub. В каталоге — больше 7000 CLI-программ.

Устанавливаешь Homebrew один раз. Дальше агент сам ставит любую утилиту из каталога — без поиска сайтов, без разбора зависимостей. Я на менторской сессии объяснял это так: Homebrew — это app store для терминала.

## Почему CLI, а не MCP

У MCP-серверов есть конкретная проблема. Каждый сервер загружает описания всех инструментов в контекст при подключении. Playwright MCP, например, [занимает 13 700 токенов](https://dorayaki.co/posts/mcp-considered-harmful/) только на описания — ещё до того, как ты что-то попросил. Ни разу не открыл браузер, а токены уже съедены.

С CLI всё иначе. Агент обращается к документации программы только когда она нужна. Попросил скачать видео — агент вызвал справку yt-dlp, выбрал флаги, запустил. Закончил — контекст чистый.

И ещё. ffmpeg существует с 2000 года. ImageMagick — с 1987. Эти программы оттестированы миллионами пользователей, о них написаны тысячи ответов на Stack Overflow. Агент знает их — они есть в данных обучения.

По-моему, для большинства задач вайбкодера MCP-серверы избыточны. Хватает CLI-утилит.

## Как это выглядит на практике

Сегодня на менторской сессии студент спросил: «Как скачать видео с YouTube?»

Написал Claude Code на Opus 4.6:

{{< callout type="insight" >}}
Установи yt-dlp через brew и скачай видео по этой ссылке: [URL]
{{< /callout >}}

Агент установил yt-dlp, выбрал формат, скачал. Минута.

Но отдельная программа — это полдела. CLI-утилиты можно соединять в цепочки: одна скачивает, другая конвертирует, третья обрабатывает. Агент сам собирает нужную последовательность.

У меня так устроен весь воркфлоу для видеоуроков. Написал Claude Code на Opus 4.6:

{{< callout type="insight" >}}
Скачай видео, конвертируй в mp3, транскрибируй через whisper, напиши урок на основе транскрипта
{{< /callout >}}

Дальше агент работает сам. yt-dlp скачивает видео. ffmpeg извлекает аудиодорожку. Whisper транскрибирует. Claude Code пишет урок.

```
  YouTube URL
      │
      ▼
  ┌────────┐
  │ yt-dlp │  скачивает видео
  └────┬───┘
       │
       ▼
  ┌────────┐
  │ ffmpeg │  извлекает аудио
  └────┬───┘
       │
       ▼
  ┌─────────┐
  │ whisper │  транскрибирует
  └────┬────┘
       │
       ▼
  ┌─────────────┐
  │ Claude Code │  пишет урок
  └─────────────┘
```

Я говорю «сделай урок» и ухожу. Раньше обработка одного видео занимала часов пять. Теперь — один промпт.

ffmpeg устанавливается через Homebrew [171 тысячу раз в месяц](https://formulae.brew.sh/analytics/install-on-request/30d/). Агенту не нужно объяснять, как с ним работать.

## Что ставить: программы с прямой пользой

yt-dlp и ffmpeg — один сценарий. Но в Homebrew больше 7000 программ. Какие из них реально полезны?

Критерий простой: программа даёт агенту возможность, которой у него **нет без неё**. Не «делает лучше» — а «делает вообще». Вот мой топ.

### Скачать что угодно из интернета

**yt-dlp** — скачивает видео и аудио с YouTube, Vimeo, Twitter и ещё тысячи сайтов. Без этой программы агент не может получить видео — он умеет только текст генерировать. С yt-dlp ты говоришь «скачай это видео» — и оно у тебя на компьютере.

### Работать с видео и аудио

**ffmpeg** — умеет всё с медиафайлами. Отделить аудио от видео. Обрезать фрагмент. Сконвертировать в другой формат. Склеить несколько файлов. Уменьшить размер. [171 тысяча установок в месяц](https://formulae.brew.sh/analytics/install-on-request/30d/) — одна из самых популярных программ в Homebrew. Существует с 2000 года.

Попросил агента «вырежи первые 30 секунд и сделай mp3» — ffmpeg сделает за секунду.

### Обработать картинки пачкой

**ImageMagick** — обработка изображений без Photoshop. Уменьшить сто фотографий разом. Наложить водяной знак на все картинки в папке. Сконвертировать PNG в JPEG. Существует с 1987 года — старше большинства читателей этого блога.

### Превратить документ в любой формат

**pandoc** — конвертирует документы между форматами. Написал в markdown — получил PDF. Есть DOCX — сделал HTML. Агент берёт твои заметки и превращает в готовый документ.

### Посмотреть, что происходит на компьютере

**htop** — показывает, какие программы работают, сколько памяти едят, насколько загружен процессор. Если компьютер тормозит, агент через htop найдёт причину и скажет, что закрыть.

### Транскрибировать голос в текст

**whisper** — модель от OpenAI для распознавания речи. Агент берёт аудиозапись встречи, лекции, интервью — и превращает в текст. На любом языке.

### Деплоить на Railway

**railway** — CLI для платформы [Railway](https://railway.com). Агент подключается к проекту, деплоит сервис, читает логи, откатывает версию. Без этой программы агент видит только локальный код. С railway он управляет продакшеном: «задеплой последний коммит», «покажи логи за последний час», «откати на предыдущую версию».

### Работать с GitHub

**gh** — официальный CLI от GitHub. Агент создаёт issues, открывает pull requests, смотрит статус CI, ищет по репозиториям. Без gh агент умеет только `git push`. С gh — полный доступ к GitHub: «создай issue с описанием бага», «открой PR из текущей ветки», «покажи упавшие проверки».

```
БЕЗ Homebrew:                    С Homebrew:

  Скачать видео?      ❌           yt-dlp        ✅
  Вырезать аудио?     ❌           ffmpeg        ✅
  Обработать фото?    ❌           ImageMagick   ✅
  Сделать PDF?        ❌           pandoc        ✅
  Почему тормозит?    ❌           htop          ✅
  Расшифровать запись? ❌           whisper       ✅
  Задеплоить сервис?  ❌           railway       ✅
  Создать PR/issue?   ❌           gh            ✅
```

## Результат

Мой [видео-пайплайн](/blog/video-pipeline-claude-code) целиком на CLI-утилитах из Homebrew. Говорю «опубликуй видео» — агент скачивает, обрабатывает, транскрибирует, генерирует метадату, загружает на YouTube.

Каждый инструмент в цепочке — программа, которой пользуются миллионы людей. Не бета-версия MCP-сервера, не плагин с тремя звёздами на GitHub.

Из CLI-инструментов потом собираются [скиллы для агента](/blog/superpowers-brainstorming-workflow). А когда нужно взаимодействие с внешними системами — подключаются API и MCP, как в [истории про автопубликацию в Telegram](/blog/telegram-autopublisher).

## Выводы

**CLI — фундамент, MCP — надстройка.** Для работы с файлами, медиа, кодом и данными хватает CLI. MCP нужен для специфичных интеграций: браузер, база данных, OAuth.

**Контекст не тратится зря.** CLI-программа не занимает токены, пока не вызвана. MCP-сервер грузит описания при подключении — даже неиспользуемые.

**Проверенный open-source.** ffmpeg, ImageMagick, Whisper, yt-dlp — бесплатные, с открытым кодом. Агент работает с ними так же уверенно, как с git.

**Один шаг для начала.** Установить Homebrew. Попросишь скачать видео — агент поставит yt-dlp. Попросишь обработать картинку — поставит ImageMagick. 7000+ программ через один промпт.

---

## Частые вопросы

### Нужно ли знать терминал, чтобы использовать Homebrew с Claude Code?
Нет. Агент сам устанавливает и запускает программы. Достаточно описать задачу словами — «скачай видео», «сконвертируй в mp3». Homebrew нужно установить один раз, дальше агент работает самостоятельно.

### Чем Homebrew лучше ручной установки?
Homebrew разрешает зависимости, обновляет программы, проверяет совместимость. Агент ставит ffmpeg одной строкой. Без Homebrew — скачивание бинарников, настройка путей, конфликты версий.

### Работает ли это на Linux?
Да, Homebrew поддерживает Linux. ffmpeg, yt-dlp, jq работают одинаково на обеих платформах.
