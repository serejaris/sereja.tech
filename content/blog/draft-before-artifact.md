---
title: "Сначала набросок, потом результат: как работать с LLM"
date: 2026-02-17
description: "Итерировать структуру в тексте быстрее и дешевле, чем переделывать готовые слайды, код или изображения. Паттерн для любого вывода LLM."
tags: ["вайбкодинг", "промпты", "workflow", "методология"]
---

Делал презентацию для курса по мобильной разработке — первое занятие, запуск приложения в Replit. Попросил агента сразу сгенерировать слайды с картинками. Получил красивый результат. Потом потратил два часа, пытаясь его исправить.

## Проблема: красивый тупик

Презентация выглядела готовой. Стилизованные слайды, иконки, анимации. Но содержание — мимо. Третий слайд повторял первый. Пятый рассказывал про то, что студенты уже знают. Седьмого не хватало.

Начал итерировать. "Перепиши третий слайд." Агент переписал текст, сломал верстку. "Добавь слайд после пятого." Добавил — поехала нумерация, иконки не совпали, шрифт на новом слайде другой. Каждая правка по содержанию тянула за собой правку оформления.

Артефакт уже "готов" визуально. Но менять в нём структуру — как ремонт в жилой квартире. Каждое изменение ломает что-то рядом. Агент тратит контекст на то, чтобы починить CSS, вместо того чтобы улучшить содержание. Я писал про это в [статье об оптимизации контекста](/blog/claude-code-token-optimization) — 95% контекста съедают результаты инструментов, а тут ещё и впустую.

```
СРАЗУ АРТЕФАКТ                  ЧЕРЕЗ ЧЕРНОВИК
──────────────                  ──────────────

Промпт                          Промпт
   │                               │
   ▼                               ▼
Готовые слайды                  Текстовый список
(текст + дизайн)                (только тезисы)
   │                               │
   ▼                               ▼
"Перепиши 3-й" ──┐             "Добавь примеры"
   │              │                │
   ▼              ▼                ▼
Сломалась        Починил        Обогащённый список
верстка          CSS               │
   │              │                ▼
   ▼              ▼             "Перефразируй 3, 7"
"Добавь слайд"  Опять              │
   │            сломалось           ▼
   ▼                            Финальная структура
Всё поехало                        │
   │                               ▼
   ▼                            Генерация слайдов
Начинаем                        (один раз, чисто)
сначала
```

За четыре итерации в готовых слайдах я правил оформление. За четыре итерации в текстовом черновике — содержание. Разница — в том, на что уходит бюджет внимания агента.

## Переключение: текстовый черновик

Закрыл слайды. Начал заново. Написал Claude Code на Opus 4.6:

{{< callout insight >}}
Вот курс по мобильной разработке с Replit. Составь список слайдов: заголовок + 2-3 тезиса на каждый. Только текст, без оформления.
{{< /callout >}}

Получил 14 слайдов за минуту. Текст. Никакой верстки. Читаю — вижу структуру целиком. Три слайда слишком абстрактные, один лишний, двух не хватает. Всё это видно сразу, потому что нет отвлекающего дизайна.

Дальше — research-итерация. Написал агенту:

{{< callout insight >}}
Вот черновик презентации [список слайдов]. Для каждого слайда добавь определение ключевого термина и один конкретный пример. Если какой-то аспект темы не покрыт — добавь недостающий слайд.
{{< /callout >}}

Агент добавил три слайда, которые я не предусмотрел. Обогатил остальные определениями и примерами. Всё ещё текст — никакого оформления. Контекст не тратится на CSS.

Третья итерация — переработка формулировок:

{{< callout insight >}}
Слайды 3, 7, 11 звучат слишком абстрактно. Переформулируй тезисы конкретнее — без воды, как в документации.
{{< /callout >}}

К четвёртой итерации у меня был текст, с которым я согласен на 90%. Только после этого попросил агента сгенерировать слайды. Один раз. Чисто. Без переделок.

## Почему это работает

Я думал, это просто здравый смысл. Но нет — паттерн подтверждён исследованиями.

Исследование [PPTAgent](https://arxiv.org/abs/2501.03936) (EMNLP 2025) показало: двухстадийная архитектура — сначала outline, потом генерация — даёт 95% успешности. Без промежуточного планирования — 74.6%. Разница в двадцать процентных пунктов. На презентациях. Тех самых, которые я пытался генерировать в один шаг.

[Эксперименты с итеративной обратной связью](https://arxiv.org/abs/2509.06770) (сентябрь 2025) подтвердили другое: размытый промпт "improve it" работает хуже, чем конкретная обратная связь по структуре. В 12-раундовых экспериментах таргетированные правки давали стабильно лучший результат. Текстовый черновик позволяет давать именно такую обратную связь — конкретную, по тезисам, без шума оформления.

[Addy Osmani](https://addyosmani.com/blog/good-spec/) описывает воронку: Specify, Plan, Tasks, Implement. Перепрыгнул шаг — получил "house of cards code". Генерация слайдов сразу — это прыжок через Plan. Текстовый черновик — это и есть Plan.

## Тот же паттерн везде

Презентации — частный случай. Паттерн работает для любого артефакта, который генерирует LLM.

**Блог-посты.** Мой [пайплайн для статей](/blog/blog-post-pipeline) устроен именно так: сначала research, потом brief с тезисами, потом черновик, потом финальный текст. Я не прошу агента сразу писать статью. Сначала — структура в тексте.

**Код.** Plan Mode в Claude Code — тот же принцип. Агент сначала описывает что будет делать, я проверяю план, потом он пишет код. [Koder.ai](https://koder.ai) рекомендует "Ask for a plan before code" как обязательный шаг — каждый промпт должен быть размером с один PR, бюджет итерации 30-90 минут. Похожий подход использовал для [context.lat](/blog/context-lat-90-minutes) — половина из 90 минут ушла не на код, а на планирование.

**Изображения.** Сначала доведи промпт до идеала в тексте, потом генерируй. Каждая генерация картинки — это секунды ожидания и потерянный контекст. Итерация промпта в тексте — мгновенная.

**Любой артефакт.** Nielsen Norman Group описывает подход [Promptframes](https://www.nngroup.com/articles/promptframes/) — сначала продумай цели и структуру, потом генерируй. Это снижает количество впустую потраченных итераций. Детальный промпт после текстовой проработки даёт результат с первого-второго раза.

```
УНИВЕРСАЛЬНЫЙ ПАТТЕРН:

Текстовый черновик        Итерации структуры         Генерация
(дёшево, быстро)          (дёшево, быстро)           (один раз)
      │                          │                        │
      ▼                          ▼                        ▼
Список тезисов ──────▶  Обогащение, правки ──────▶  Финальный
                        перестановка, удаление       артефакт
                                                    (слайды / код /
                                                     текст / картинка)
```

## Черновик — это артефакт

Главное наблюдение: текстовый черновик — не подготовительный этап. Это полноценный рабочий артефакт. В нём происходит основная работа. Генерация финального формата — только оформление.

По-моему, это самое контринтуитивное в вайбкодинге. Кажется, что "настоящая работа" — это когда слайды красивые, код компилируется, картинка сгенерирована. Но настоящая работа — когда ты решил, что должно быть на третьем слайде. Всё остальное — рендеринг.

Подробнее про этот подход к документированию — [в статье про разговоры с агентом](/blog/document-conversations-not-code). Документируй мышление, а не финальный результат. Черновик — это задокументированное мышление. Когда он готов, превратить его в [правило для агента](/blog/fix-once-rule-forever) или в финальный артефакт — дело одного промпта.

## Как применить

Три правила:

1. **Сначала текст.** Любой артефакт начинай с текстового списка тезисов. Без оформления. Без дизайна. Без кода.

2. **Итерируй структуру отдельно от формата.** Пока работаешь с черновиком — меняй содержание. Когда содержание готово — генерируй оформление. Не смешивай.

3. **Генерация — один раз.** Если приходится генерировать финальный артефакт больше двух раз — вернись к черновику. Проблема в содержании, не в оформлении.

Этот паттерн — один из базовых для тех, кто начинает осваивать вайбкодинг. Научиться вайбкодингу — это прежде всего научиться думать до генерации, а не после.

## Три промпта: от идеи до дорожной карты

Паттерн "сначала черновик" особенно важен для проектов. Переделать текстовый черновик — пара минут и один промпт. Переделать код, в который ушёл час и тысячи токенов — совсем другая история. Поэтому прежде чем просить агента писать код, стоит проработать идею текстом: задать себе вопросы, разбить на части, наметить маршрут.

Вот три промпта, которые превращают сырую идею в готовый план для агента.

### 01 — Структурирование идеи

Мета-промптинг: вместо формулирования идеи самому, программируешь диалог. AI задаёт вопросы с вариантами ответов и комментариями экспертов. Каждый вопрос уточняет идею, а в конце — готовый структурированный документ.

**Зачем:** получаем «документ нулевого уровня» — описание идеи без технических деталей. С ним дальше работаем.

*Подготовка: опиши идею голосом или текстом перед отправкой промпта.*

{{< callout insight >}}
Мне нужно структурировать идею проекта.

Задай мне 5 вопросов — строго по одному. К каждому вопросу предложи 3 варианта ответа и комментарии от экспертов, которые могли бы это обсудить.

Вопросы не должны касаться технической реализации — только суть, аудитория, ценность.

После всех ответов — выдай структурированное описание идеи.
{{< /callout >}}

### 02 — Техническая декомпозиция

AI берёт структурированную идею и разбивает на технические компоненты: архитектура, user journey, flow-диаграммы, схема БД, системные промпты. Важно: отправляй в тот же чат — AI видит весь контекст.

**Зачем:** переводим абстрактную идею в конкретные блоки, которые станут задачами для AI-агента.

*Отправляй в тот же чат, где структурировали идею.*

{{< callout insight >}}
Сделай техническую декомпозицию этого проекта. Для каждого пункта дай конкретный результат, а не абстрактное описание:

1. Архитектура системы — ASCII-диаграмма компонентов и их связей
2. User Journey — путь пользователя от первого касания до регулярного использования
3. Flow-диаграмма — как система обрабатывает основной сценарий
4. Схема базы данных — таблицы, поля, связи
5. Системный промпт — если в проекте есть AI-компонент
6. Фазы сборки — порядок реализации с зависимостями между этапами
{{< /callout >}}

### 03 — Дорожная карта

AI генерирует пошаговый план разработки с промптами для агента на каждом этапе. Ключевое: для каждого шага прописаны критерии оценки для человека. Паттерн Human-in-the-Loop — человек не пишет код, но контролирует качество.

**Зачем:** получаем готовый план, который можно скормить Claude Code или Cursor — с промптами и чеклистами.

*Замени инфраструктуру на свою. Суть — дать AI контекст твоего стека.*

{{< callout insight >}}
Составь дорожную карту разработки этого проекта.

Контекст инфраструктуры:
— LLM: OpenRouter
— Хостинг: Railway, автодеплой через GitHub
— Разработка: AI-агент (Claude Code / Cursor)

Для каждого этапа дай:
1. Конкретный промпт для AI-агента
2. Критерии оценки для человека — что проверить, на что обратить внимание
3. Ожидаемый результат этапа

Перед планом — список вводных, которые нужно собрать человеку до начала разработки.
{{< /callout >}}

Три промпта — три стадии черновика. Только после третьей стоит открывать терминал и писать первый промпт для агента-кодера. Исследования подтверждают: двухстадийный подход (сначала структура, потом реализация) поднимает качество результата с 75% до 95%.

## FAQ

**Это работает только для презентаций?**
Нет. Паттерн универсален. Блог-посты, код, изображения, видеосценарии — любой артефакт, который генерирует LLM. Суть: итерировать структуру в тексте дешевле, чем переделывать готовый результат.

**Сколько итераций черновика обычно нужно?**
От двух до пяти. Первая — базовая структура. Вторая — обогащение через research. Третья — переформулировка слабых мест. Дальше — по необходимости. Каждая итерация в тексте занимает секунды, а не минуты.

**А если артефакт простой — тоже нужен черновик?**
Если результат устраивает с первого раза — черновик не нужен. Правило включается, когда ты начинаешь итерировать готовый артефакт. Второй заход на генерацию — сигнал вернуться к тексту.
