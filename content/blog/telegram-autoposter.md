---
title: "Автопостер для Telegram-канала — как я автоматизировал публикации"
date: 2026-02-01
description: "Хочу постить в канал регулярно, а не когда дописал. Попросил Claude Code сделать очередь — теперь посты выходят в 19:00 сами."
tags: ["automation", "telegram", "claude-code"]
---

Веду Telegram-канал @sereja_tech. Постил много, но хаотично — то три поста за день, то неделю тишина. Часто отправлял ночью, когда дописал.

Хочу постоянства. Чтобы посты выходили в одно время, регулярно. Не когда дописал, а когда аудитория читает.

Исследование Buffer: аккаунты с постоянным расписанием получают в пять раз больше engagement. Но сидеть и ждать 19:00 чтобы нажать "отправить" — не моё.

Нужна автоматизация.

## Два способа планировать

**Точное время** — выбираешь дату и час для каждого поста. "27 января в 15:00." Подходит для анонсов событий.

**Очередь** — добавляешь посты в список, система сама назначает даты. Следующий пост завтра, ещё один послезавтра. Заполнил на неделю — забыл.

Мне нужен второй вариант. Накидал идеи — дальше само.

## SaaS или свой код

Есть готовые сервисы: Postly, Publer, Schedulala. Платишь от $10 до $50 в месяц. Удобно. Но зависимость от вендора, данные на чужих серверах.

Есть no-code типа Zapier. Но ограничения платформы.

По-моему, проще попросить агента написать своё. Бесплатно, полный контроль.

## Что попросил Claude Code

Написал промпт:

> Сделай автопостер для Telegram-канала. Нужна очередь постов — добавляю текст, система сама назначает дату публикации. Каждый день в 19:00 МСК отправляет следующий пост из очереди.

Получил систему из четырёх частей.

```
┌─────────────────────────────────────────────────┐
│  queue.json — очередь постов                    │
│  ┌───────────────────────────────────────────┐  │
│  │ { id: "a1b2", date: "Feb 02", text: "..." }│  │
│  │ { id: "c3d4", date: "Feb 03", text: "..." }│  │
│  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
         ▲                           │
         │ добавляю                  │ читает
┌────────┴───────────┐      ┌────────▼───────────┐
│  queue.py          │      │  scheduler.py      │
│  add / list / rm   │      │  отправляет в TG   │
└────────────────────┘      └────────────────────┘
                                     ▲
                                     │ запускает в 19:00
                            ┌────────┴───────────┐
                            │  launchd (macOS)   │
                            │  планировщик       │
                            └────────────────────┘
```

**Очередь** — JSON-файл. Каждый пост: короткий id, текст, дата, статус (pending/sent).

**Управление** — команды `queue add`, `queue list`, `queue remove`. Добавил текст — система сама назначает следующую свободную дату.

**Отправщик** — скрипт, который проверяет: есть ли пост на сегодня? Если да — отправляет в Telegram, меняет статус.

**Планировщик** — launchd на маке. Как будильник для скриптов. Каждый день в 19:00 запускает отправщик.

Логика дат простая. Если очередь пуста — сегодня (если до 19:00) или завтра. Если есть посты — следующий день после последнего.

## Как использую

Утром пишу текст. Добавляю:

```
queue add post.html
→ Post added. Scheduled: 2026-02-03 at 19:00 MSK
```

Если в очереди уже три поста — выйдет через четыре дня.

Смотрю список:

```
queue list
→ 2026-02-02 | a1b2 | <b>Hook про автоматизацию...
→ 2026-02-03 | c3d4 | <b>Почему вайбкодинг...
```

В 19:00 планировщик запускает отправщик. Пост уходит в канал. Я ничего не делаю.

## Результат

Посты выходят стабильно. Накидал контент на неделю — система распределила.

Код писал не я — только промпт и проверка что работает. Никаких подписок, данные локально. Нужно изменить логику — попрошу агента.

## Источники

- [Buffer: Consistent Posting Study](https://buffer.com/resources/consistent-posting-study/) — данные про 5x engagement
- [Telegram Bot API](https://core.telegram.org/bots/api) — sendMessage endpoint
- [Apple launchd](https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html) — планировщик macOS
